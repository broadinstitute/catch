language: python

jobs:
  include:
    - os: linux
      dist: focal
      python: 3.8
    - os: linux
      dist: focal
      python: 3.9
    - os: osx
      language: generic # needed for Travis on macOS
      osx_image: xcode13.4 # macOS 12.4

cache:
 directories:
  - $HOME/virtualenv

install:
 - pip3 install -r requirements.txt
 - pip3 install coveralls[yaml] nose-cov
 - python setup.py install --force

script:
 - nosetests -v --with-xunit --with-coverage --cover-inclusive --cover-branches --cover-package catch

after_success:
 - coveralls
